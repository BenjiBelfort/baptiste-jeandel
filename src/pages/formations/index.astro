---
import Site from '@/layouts/SiteLayout.astro';
import { getCollection } from 'astro:content';
import Card from '@/components/Card.astro';


const items = (await getCollection('formations')).sort((a,b)=>a.data.sort - b.data.sort);
---
<Site title="Formations — Baptiste Jeandel" description="Formations proposées.">
  <section class="max-w-6xl mx-auto px-4 py-12 grid gap-6 md:grid-cols-3">
    {items.map((entry) => (
    <Card
      title={entry.data.title}
      excerpt={entry.data.excerpt}
      href={`/formations/${entry.slug}`}
      ctaLabel="En savoir +"
      secondaryHref={`/contact?domain=${encodeURIComponent(entry.data.domain)}&origin=${encodeURIComponent(`formations/${entry.slug}`)}`}
      secondaryLabel="Demander un devis"
    />
    ))}
  </section>
</Site>