---
import FunkyButton from '@/components/FunkyButton.astro';

type Props = {
  domain?: string;
  origin?: string;       // ex: "formations/handpan"
  color?: string;        // override optionnel ("bg-sky-300", etc.)
  label?: string;        // override du libellé
};

const { domain = '', origin = '', color, label = 'Demander un devis' } = Astro.props;

// URL contact (avec paramètres)
const contactHref = `/contact?domain=${encodeURIComponent(domain)}&origin=${encodeURIComponent(origin)}`;
---

<section
  aria-label="Demander un devis"
  class="sticky bottom-6 mb-6 z-40 flex justify-center"
>
  <div
    class="bg-white/80 backdrop-blur border border-stone-900 shadow-sm/30
           px-6 py-4 max-w-4xl w-full flex flex-col md:flex-row items-center justify-between gap-4
           rounded-none"
  >
    <p class="hidden md:block text-stone-900 font-medium">
      Besoin d’un devis ? Réponse rapide.
    </p>

    <div class="flex-shrink-0"> <!-- petit espace sous le bouton -->
      <FunkyButton
        href={contactHref}
        label={label}
        color="bg-slate-300"
      />
    </div>
  </div>
</section>
