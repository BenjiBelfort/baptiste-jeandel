---
/** Sous-formulaire : Musicoth√©rapie
 * - Champs visibles avec data-reg-id="<id du hidden>"
 * - Registre hidden (names Netlify) d√©sactiv√© par d√©faut
 */
---

<section
  data-domain-form="Musicoth√©rapie"
  class="hidden border border-stone-900 bg-violet-100 p-4 md:p-5"
  aria-label="Questions sp√©cifiques ‚Äî Musicoth√©rapie"
>
  <h2 class="hand text-3xl mb-6 text-center">Musicoth√©rapie</h2>

    <div class="grid md:grid-cols-2 gap-4">
        <label class="block">
        <span class="text-sm">N¬∞ de t√©l√©phone *</span>
        <input data-reg-id="reg-tel" type="tel" required class="mt-1 w-full border bg-white p-2" placeholder="03‚Ä¶ / 06‚Ä¶" inputmode="tel" />
        </label>
    </div>

    <label class="block mt-4">
        <span class="text-sm">Structure et adresse *</span>
        <textarea rows="3" data-reg-id="reg-structure" required class="mt-1 w-full border bg-white p-2" placeholder="Nom de la structure et adresse"></textarea>
    </label>

    <div class="grid md:grid-cols-2 gap-4 mt-4">
        <label class="block">
        <span class="text-sm">Code postal *</span>
        <input data-reg-id="reg-cp" required class="mt-1 w-full border bg-white p-2" placeholder="90000" inputmode="numeric" />
        </label>

        <label class="block">
        <span class="text-sm">Ville *</span>
        <input data-reg-id="reg-ville" required class="mt-1 w-full border bg-white p-2" />
        </label>
    </div>

    <div class="grid md:grid-cols-2 gap-4 mt-4">
    <label class="block">
        <span class="text-sm">Mettre en place la musicoth√©rapie ?*</span>
        <select data-reg-id="type" required class="mt-1 w-full border bg-white p-2">
        <option value="">‚Äî S√©lectionner ‚Äî</option>
        <option value="active">Active (les r√©sidents jouent)</option>
        <option value="receptive">R√©ceptive (√©coute et d√©tente)</option>
        <option value="les-deux">Les deux (active et r√©ceptive)</option>
        </select>
    </label>

    <label class="block" data-show-if="type" data-show-any="active,les-deux">
        <span class="text-sm">Niveau de d√©pendance *</span>
        <select data-reg-id="reg-gir" data-required class="mt-1 w-full border bg-white p-2">
            <option value="">‚Äî S√©lectionner ‚Äî</option>
            <option value="GIR 1-2">GIR 1 - 2</option>
            <option value="GIR 3-4">GIR 3 - 4</option>
        </select>
    </label>
  </div>

  <label class="block mt-4">
    <span class="text-sm">Avez-vous d√©j√† du mat√©riel sur place ? Si oui, pr√©cisez</span>
    <textarea rows="3" data-reg-id="reg-matos" class="mt-1 w-full border bg-white p-2" placeholder="Listez le mat√©riel que vous avez‚Ä¶"></textarea>
  </label>

  <div class="grid md:grid-cols-2 gap-4 mt-4">
    <label class="block">
      <span class="text-sm">Fr√©quence souhait√©e *</span>
      <select data-reg-id="reg-frequence" required class="mt-1 w-full border bg-white p-2">
        <option value="">‚Äî S√©lectionner ‚Äî</option>
        <option value="hebdo">Une fois par semaine</option>
        <option value="bihebdo">Une fois tous les 15 jours</option>
        <option value="mensuel">Une fois par mois</option>
        <option value="autre">Autre (pr√©ciser)</option>
      </select>
    </label>

    <label class="block" data-show-if="reg-frequence" data-show-eq="autre">
      <span class="text-sm">Pr√©cisez la fr√©quence *</span>
      <input data-reg-id="frequenceAutre" data-required class="mt-1 w-full border bg-white p-2" placeholder="1 seule fois, toutes les 3 semaines, etc..." />
    </label>
  </div>

  <div class="grid md:grid-cols-2 gap-4 mt-4">
    <label class="block">
      <span class="text-sm">Public cibl√© *</span>
      <select data-reg-id="reg-publicCible" required class="mt-1 w-full border bg-white p-2">
        <option value="">‚Äî S√©lectionner ‚Äî</option>
        <option value="tres-avances">Troubles cognitifs tr√®s avanc√©s</option>
        <option value="avances">Troubles cognitifs avanc√©s</option>
        <option value="moderes">Troubles cognitifs mod√©r√©s</option>
        <option value="sans-troubles">Sans troubles cognitifs</option>
      </select>
    </label>
  </div>

  <label class="block mt-4">
    <span class="text-sm">Souhaitez-vous programmer des s√©ances individuelles ? Si oui, pr√©cisez</span>
    <textarea rows="3" data-reg-id="reg-solo" class="mt-1 w-full border bg-white p-2" placeholder="Nombre de r√©sident¬∑e¬∑s, rythme‚Ä¶"></textarea>
  </label>

  <!-- üîí Registre hidden de ce sous-form -->
  <div data-registry class="hidden" aria-hidden="true">
    <input type="hidden" name="T√©l√©phone" id="reg-tel" disabled />
    <input type="hidden" name="Structure (adresse)" id="reg-structure" disabled />
    <input type="hidden" name="Code postal" id="reg-cp" disabled />
    <input type="hidden" name="Ville" id="reg-ville" disabled />
    <input type="hidden" name="Type de musicoth√©rapie" id="type" disabled />
    <input type="hidden" name="Mat√©riel sur place (pr√©cisions)" id="reg-matos" disabled />
    <input type="hidden" name="Fr√©quence" id="reg-frequence" disabled />
    <input type="hidden" name="Type de public cibl√©" id="reg-publicCible" disabled />
    <input type="hidden" name="Niveau de d√©pendance (file active)" id="reg-gir" disabled />
    <input type="hidden" name="S√©ances individuelles (pr√©cisions)" id="reg-solo" disabled />
  </div>
</section>
